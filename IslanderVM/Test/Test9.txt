; Procs

STRUCTURE type
    FIELD 4 : x
    FIELD 4 : y
END

;PROC Sum(4 : x, 4 : y):
;    ADD x, y
;    MOV S1, x
;    RETURN

; EBP +8 = t3 PTR
; EBP +16 = t2
; EBP +24 = t1
PROC Sum2(type : t1, type : t2, type& : t3):
    STORE1 0
    ADD S1, t1.x
    ADD S1, t2.x
    MOV t3.x, S1
    
    STORE1 0
    ADD S1, t1.y
    ADD S1, t2.y
    MOV t3.y, S1
    RETURN
    
;STORE1 55
;STORE2 60
;CALL Sum(S1, S2)

DECLARE type : t1
STORE1 20
MOV t1.x, S1
STORE2 10
MOV t1.y, S2

DECLARE type : t2
STORE1 25
MOV t2.x, S1
STORE2 30
MOV t2.y, S2

DECLARE type : t3
CALL Sum2(t1, t2, t3)

MOV S1, t3.x

